
@model AssociationBids.Portal.Model.CompanyModel
@{
    ViewBag.Title = "Edit Company Defaults";
    Layout = "~/Views/Shared/_PropertyManagerLayout.cshtml";
}
<script src="~/Content/themes/assets/js/vendors/jquery-3.2.1.min.js"></script>
<h2>ACompanyDefaultEdit</h2>

<!-- app-content-->
<div class="app-content  my-3 my-md-5">
    <div class="side-app">

        <!-- page-header -->
        <div class="page-header">
            <ol class="breadcrumb">
                <!-- breadcrumb -->
                <li class="breadcrumb-item"><a href="~/PMDashboard/Dashboard">Home</a></li>
                <li class="breadcrumb-item">  @Html.ActionLink("CompanyDetails", "CompanySetting", "ACompanyManagement", null, new { })</li>

                <li class="breadcrumb-item active" aria-current="page">Edit Company Defaults</li>
            </ol><!-- End breadcrumb -->

        </div>
        <!-- End page-header -->




        <div class="row">
            <div class="col-12">
                <div class="card">
                    <span class="errorMsg alert alert-danger" style="display:none;"></span>
                    @if(TempData["Errormessage"] != null && TempData["Errormessage"] != "")
                    {
                    <span class="alert alert-danger">@TempData["Errormessage"]</span>
                    }
                    @using (Html.BeginForm("CompanyDefaultEdit", "ACompanyManagement", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                    <div class="card-body">



                        <div class="row">
                            @Html.HiddenFor(model => model.CompanyKey)
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label">Description</label>
                                    @Html.TextAreaFor(model => model.Description, new { @class = "form-control", placeholder = "Description" })
                                </div>
                            </div><!-- end of col -->
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="form-label">Days to Respons to Bid Requests</label>
                                    @Html.EditorFor(model => model.BidRequestResponseDays, new { htmlAttributes = new { @class = "form-control", @tabindex = "1", autocomplete = "off", placeholder = "0" } })
                                </div>
                            </div><!-- end of col -->
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="form-label">Due to Submit Days</label>
                                    @Html.EditorFor(model => model.BidSubmitDays, new { htmlAttributes = new { @class = "form-control", @tabindex = "1", autocomplete = "off", placeholder = "0" } })
                                </div>
                            </div><!-- end of col -->
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="form-label">Bid Request Amount</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fa fa-dollar tx-16 lh-0 op-6"></i>
                                            </div>
                                        </div><!-- input-group-prepend -->
                                        @Html.EditorFor(model => model.BidRequestAmount, new { htmlAttributes = new { @class = "form-control", @tabindex = "1", autocomplete = "off", placeholder = "Bid Request Amount" } })
                                    </div>
                                </div>
                            </div><!-- end of col -->
                        </div><!-- end of row -->
                    </div><!--end of card body -->



                    <hr />

                    <div class="card-footer">

                        <div class="button-row d-flex">
                            @Html.HiddenFor(model => model.CompanyKey)
                            <a href="@Request.UrlReferrer" class="btn btn-default" title="Cancel">Cancel</a>
                            <button class="btn btn-sm btn-primary ml-auto" id="btnUpdate" type="submit" onclick="return validationNew()" title="Update"><i class="fa fa-check-circle-o "></i> Update</button>
                        </div>




                    </div>
                    }

                </div>

            </div>
        </div>





    </div><!--End side app-->
    <!--footer-->
    <footer class="footer">
        <div class="container">
            <div class="row align-items-center flex-row-reverse">
                <div class="col-lg-12 col-sm-12   text-center">
                    Copyright © 2020 Association Bids. All rights reserved.
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer-->
</div>
<!-- End app-content-->

<script>

    $("#btncancel").click(function () {
        var a = $("#CompanyKey").val();

        window.location.href = 'companydefaultView?CompanyKey=' + $("#CompanyKey").val();

    });

    $("#btnUpdate").click(function () {
        var a = $("#CompanyKey").val();
        var status = false;
        status = validation();
        if(status)
            window.location.href = 'ACompanyDefaultEdit?CompanyKey=' + $("#CompanyKey").val();
    });


    $("#btnDelete").click(function () {
        if (confirm('Are you sure you want to delete this record?')) {

            var b = $('#CompanyKey').val();
            //alert("vendorKey"+b);
            window.location.href = "Deletee?CompanyKey=" + b;
            return true;
        }
        else {
            return false;
        }
    });

    function validationNew() {
        debugger;
        $(".errorMsg").hide();
        var bidRes = $("#BidRequestResponseDays").val();
        var bidSubmit = $("#BidSubmitDays").val();
        if (bidRes <= 0) {
            $("#BidRequestResponseDays").focus();
            $(".errorMsg").html("Please Enter Valid Bid Respond Due Date.");
            $(".errorMsg").show();
            return false;
        }
        else if (bidSubmit <= 0) {
            $("#BidSubmitDays").focus();
            $(".errorMsg").html("Please Enter Valid Bid Due Date.");
            $(".errorMsg").show();
            return false;
        }
        return true;
    }
    $(document).ready(function () {
        debugger;
        $("#ddlload").hide();
    });
</script>